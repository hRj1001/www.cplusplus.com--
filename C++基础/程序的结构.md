# 程序的结构
  
  学习编程最好的方式就是写程序。每一个编程者入门时写的第一个程序都是“Hello World！”，这是一个只在屏幕上输出“Hello World！“的程序。尽管它非常简单，但是它包含了C++程序所有的功能组件：

```
// my first program in C++
#include <iostream>

int main()
{
  std::cout << "Hello World!";
}
```


  以上就是这个程序的C++代码。这个程序被一台计算机执行时的输出是：

`Hello World!`

在你的本地编辑器或者IDE上，代码左侧还有行号，让你在调试和讨论程序的时候更加容易。

接下来让我们逐行的介绍这些代码：

**第1行：** *// my first program in C++*

“//”表示这一行接下来的内容是程序员插入的注释，不会影响程序的行为。程序员使用注释来简短的解释或评论程序的代码。这一行注释就是对代码的简单介绍。

**第2行：** *#include \<iostream\>*

由“#”开头的行是被所谓*预处理器*读取和解释的指令。它们是在程序编译之前就解释的特殊的行。这一行指令指示预处理器包含一部分称为*输入输出头文件*的C++标准库代码，这些代码允许程序执行标准输入输出操作，比如将程序的输出打印到屏幕上。

**第3行：** （空行）

空行对程序没有任何影响。它们仅仅能够提升程序的可读性。

**第4行：** *int main()*

这一行是函数的开始。一个函数本质上就是一段起了名字的代码。这一行代码将后面的代码段命名为“main”。有关函数的内容将在后面的章节里详细讨论，它们的定义包括类型（int），名字（main）和一对括号（括号里可以有参数）的连续序列。

名为*main*的函数是所有C++程序中的特殊函数；它是在程序运行时被调用的函数。所有的C++程序都由*main*函数开始执行，不论*main*函数在代码中的什么位置。

**第5和7行：** *{* 和 *}*

第5行的“{“表示*main*函数定义的开始，第7行的“}“表示结束。在”{"和"}"之间的就是函数的内容，当*main*函数被调用的时候，这些内容就会运行。所有的函数都使用“{”和“}”来表示函数的开始和结束。

**第6行：** *std::cout << "Hello World!";*

这一行是C++语句。一行语句是会产生一些作用的表达式。它是程序的内容，指定了程序的实际行为。语句会根据它们在函数体中出现的顺序依次执行。本条语句有三个部分：首先，*std::cout*，代表标准字符输出设备（通常是电脑屏幕）。其次，“<<"表示后面的内容被插入到*std::cout*中。最后，引号中的语句“Hello World！”表示被插入到标准输出中的内容。

请注意，每一行语句都由英文符号“;”结尾。这个字符标志这条语句的结束，就像汉语中的标点符号。所有C++语句必须由分号结尾。C++中最常见的语法错误就是忘记在语句末尾加上分号。


你可能已经注意到程序中不是所有的行都在程序运行的过程中起作用。比如“//“开始的注释行，”#“开始的预处理行，函数定义行等等。其实真正影响程序结果的只有“cout”那一行。

这个程序由不同的行组成，并且为了方便人们去读和理解适当的进行了缩进。但是C++代码在缩进上或者语句分行上并没有严格的限制，比如说，不写成

```
int main ()
{
  std::cout << " Hello World!";
}
```

而是写成

```
int main () { std::cout << "Hello World!"; }
```

把所有的代码写在同一行，和之前的代码具有完全相同的行为。

在C++中，两个语句由分号分隔，至于是否真的分行，则无关紧要。可以把多条语句写在同一行，也可以一句一行。把语句分成很多行只是为了在人读的时候清晰易懂，而对程序的实际行为没有任何影响。

现在，让我们给我们的第一个程序加点语句：

```
// my second program in C++
#include <iostream>

int main ()
{
  std::cout << "Hello World! ";
  std::cout << "I'm a C++ program";
}
```

这个程序的输出：

`Hello World! I'm a C++ program`

在这个例子中，程序在两条语句中插入两个内容到"std::cout"中。其实分成两行依然只是为了程序更好读，因为*main*可以用这种写成一行的方式进行定义：

```
int main () { std::cout << " Hello World! "; std::cout << " I'm a C++ program "; }
```

也可以写成更多行：

```
int main ()
{
  std::cout <<
    "Hello World!";
  std::cout
    << "I'm a C++ program";
}
```

不管怎么写，结果和之前例子里的还是一样的。但我们奉劝每一位写代码的朋友，为了世界和平，遵守一个良好但代码规范，将使你终身受益！

预处理行并不遵循一般的规则，因为它们不是语句。它们是被预处理器读取和处理的，而预处理实在编译开始之前进行的。预处理器行必须写“#”开头的行里，并且因为它们不是语句，它们不以分号结尾。

## 程序注释

上面提到过，注释并不会影响程序的运行。然而，注释是很重要的，注释让我们可以直接在源代码中写文档解释程序做了什么以及如何操作。

C++提供两种注释方式：

```
// line comment
/* block comment */
```

第一种方式被称为行注释，从“//”开始到行结尾的内容都被注释掉了。第二种是块注释，在“/\*”和“\*/”中的内容都被注释掉了，块注释可以跨越多行。

咱们来给第二个程序加点注释：

```
/* my second program in C++
   with more comments */

#include <iostream>

int main ()
{
  std::cout << "Hello World! ";     // prints Hello World!
  std::cout << "I'm a C++ program"; // prints I'm a C++ program
}
```

如果注释的内容被直接包含在代码中而不加“//”或“/\*"和"/\*"修饰，那么它们就会被当成C++表达式，很有可能会导致编译出错，我们会看到一条，或者很多条错误信息。

## 使用命名空间

如果你之前看过其他C++代码，你可能看到使用*cout*而不是*std::cout*。它们是同一个对象：前一个使用了非规范化名字，后一个是在命名空间中规范化的使用名字。

*cout*是标准库的一部分，并且C++标准库中的所有元素都在一个叫做*命名空间*的位置中进行了声明：命名空间*std*。

为了引用命名空间*std*中的元素，可以在每一处规范化每一个元素的使用（比如std::cout)，或者引入组件可见性。最典型的引入这些组件的可见性的方式就是使用声明：

`using namespace std;`

以上的声明将允许在命名空间*std*中的所有元素都可以使用非规范化的方式进行引用。

学会了这个，最后一个例子可以使用非规范化引用*cout*的方式进行重写：

```
// my second program in C++
#include <iostream>
using namespace std;

int main ()
{
  cout << "Hello World! ";
  cout << "I'm a C++ program";
}
```

两种访问命名空间*std*中的元素的方式在C++中都是可用的并且效果完全相同。为了简化代码和提升可读性，以后的教程中的例子通常都使用*using*声明然后用非规范化的方式访问元素，尽管使用显式规范化的方式是保证没有名称混乱的唯一方法。

后面的章节中，命名空间会有更详细的解释。